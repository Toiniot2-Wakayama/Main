<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name = "viewport" content = "width = device-width, initial-scale = 1.0, user-scalable = no">
        <title>TOINIOT² HP</title>

        <link rel = "stylesheet" href = "https://unpkg.com/delstyle.css@1.0.5/delstyle.css">
        <link rel = "stylesheet" href = "https://toiniot2-wakayama.github.io/Main/teisunosusume/style_art.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Alata&family=Noto+Sans+JP:wght@500&family=Noto+Sans+Mono:wght@500&family=Reem+Kufi+Fun:wght@500&display=swap" rel="stylesheet">

    </head>

    <body>
        <!--Global Navigation System-->
        <nav>
            <div class = upperNav>
                <a href = "https://toiniot2-wakayama.github.io/Main/">
                    <div>
                        <p class = home>TOINIOT²</p>
                    </div>
                </a>

                <br><br><br>

                <a href = #>
                    <div>
                        <i class = "fa-solid fa-screwdriver-wrench" style = "display: inline;"></i>&nbsp;
                        <p class = navTitle>Hardware</p>
                    </div>
                </a>

                <br><br><br><br><br>

                <a href = #>
                    <div>
                        <i class="fa-solid fa-code" style = "display: inline;"></i>&nbsp;
                        <p class = navTitle>Program</p>
                    </div>
                </a>

                <br><br><br><br><br>

                <a href = #>
                    <div>
                        <i class="fa-solid fa-comments" style = "display: inline;"></i>&nbsp;
                        <p class = navTitle>Others</p>
                    </div>
                </a>
            </div>
            
            <div class = lowerNav>
                <a href = "https://twitter.com/toiniot2" target = "_blank" rel = "noopener noreferrer" >
                    <div>
                        Our Twitter&nbsp;&nbsp;
                        <i class = "fa-brands fa-twitter" style = "display: inline;"></i><br><br>
                        <p class = navTitle>@toiniot2</p>
                    </div>
                </a>

                <br><br><br><br>

                <a href = "https://github.com/Toiniot2-Wakayama/" target = "_blank" rel = "noopener noreferrer" >
                    <div>
                        Our GitHub&nbsp;&nbsp;
                        <i class="fa-solid fa-link" style = "display: inline;"></i><br><br>
                        <p class = navTitle>Toiniot2-Wakayama</p>
                    </div>
                </a>
            </div>
        </nav>

        <!--HP Title-->
        
        <a href = "https://toiniot2-wakayama.github.io/Main/" style = "text-decoration: none;">
            <div class = title>
                TOINIOT²
            </div>
        </a>
        
        <main>
            <p class = mainTitle>定数のススメ。</p>
            <h3>Q. プログラムを書くとき、値の記録をするにはどのような手段をとるか。</h3>
            多くの場合、答えは2択です。
            <h3>A. 変数、または定数</h3>
            プログラムの中で状況によって値が変化する変数に対し、定義した以降は一切変化しない定数。どちらのほうが使いやすいのでしょうか。<br>
            この記事では、TOINIOT²のプログラム班が導き出した結論をお伝えします。<br>
            <br>
            まず初めに、それぞれの特徴を見ていきましょう。<br>
            <table>
                <caption>変数と定数の特徴一覧表</caption>

                <tr>
                    <th style = "width: 10%;">-</th><th>良い点<small>（よさそうな点）</small></th><th>悪い点<small>（わるそうな点）</small></th><th>参考</th>
                </tr>

                <tr>
                    <th>変数</th><td>好きなタイミングで値を代入することができ、状況に応じて任意の値に変数の中身を変更することができる</td><td>状況によって様々な値が代入されることが考えられるため、どの時点でどのような値が入っているかを正確に捉えることが困難</td><td>-</td>
                </tr>

                <tr>
                    <th>定数</th><td>プログラムの中で変化することがなく、不変の値として数字の代わりに使用することができ、定義時の値を変更すれば定数を使用している部分すべてが一度に変更されるため利便性が高い</td><td>値を変化させることが出来ないため、任意の値を代入して好きなタイミングで好きな値にすることが出来ない</td><td>定数名は基本的にアルファベット大文字で定義</td>
                </tr>
            </table>
            プログラム班としては、「基本的に変数を使用するが、状況に応じて定数を使用する」のがベストアンサーだと結論付けました。<br>
            （異論は認めます。とてもとても認めます。）<br>
            <br>
            プログラムの動作中に値が変化するようなものには変数を使用しますが、例えば各センサのしきい値や比例制御などのゲイン値については、あらかじめ定数として定義しておくのがいいと考えました。<br>
            また、定数の命名の一般的な規則として「定数名は大文字」というものがあります。変数名を小文字で定義することで、どれが定数でどれが変数かの見分けがつきやすいというのも、両方を使う利点ではないでしょうか。<br>
            センサのしきい値などの人の手で変更することが多い部分については、定数にしておくことでプログラムの上方に記述しておくことができ、編集の利便性も高くなると思います。<br>
            <br>
            変数ばかりを使用しており、定数の存在すらも知らない人もいるのではないでしょうか。（そう、1年前の自分です。）<br>
            変数は利便性も高く、それだけでもプログラムを完成させることは十分に可能です。しかし、センサのしきい値や制御のゲイン値などの値はおそらくプログラムの中では不変の値ではないでしょうか。変数と定数、それぞれの特徴を理解してより適切なものを使用するようにしていきたいものです。<br>
            <br>
            参考までに、私たちのプログラムの一部を載せておきます。フルのソースコードは<a href = https://github.com/Toiniot2-Wakayama/Japan-Open/blob/main/20230110_BLACK_MAIN.c  target="_blank" rel="noopener noreferrer">コチラ</a>。<br>
            <br>
            <pre>
#include "D_Main.h"
#include "D_I2C.h"
#include "D_SIO.h"
#include "D_EIO.h"

<h4 class = memo>//ココから定数の定義</h4>
#define MOTOR_MAX 85
#define MOTOR_MIN 25
-中略-
#define KEEPER_FRONT 10
#define KEEPER_BACK_TIME 1000
#define KEEPER_BACK_TIMELIMIT 5000
#define DIF_LR 100
#define KEEPER_BALL_FAR_MEDIUM 875
#define KEEPER_BALL_MEDIUM_NEAR 1000

<h4 class = memo>//ココから変数の定義</h4>
int m0;
int m1;
int m2;
int m3;
int lm0;
int lm1;
int lm2;
int lm3;
int inm0;
int inm1;
int inm2;
int inm3;
int lastMotion[6];
int motionLongFlag;
int difMotor;
int disMotor;
int backStop;
-中略-
int subFlag;

-中略-

<h4 class = memo>//ココからメイン関数</h4>
void user_main(void) {

    lm0 = 0;
    lm1 = 0;
    lm2 = 0;
    lm3 = 0;

    for (i = 0; i < 6; i++) {
        lastMotion[i] = 0;
    }

-後略-          </pre>
            <br>
            と、長々と語ってきましたが、要するに「定数も使おうね」ってことです、ハイ。<br>
            この記事が皆さまのプログラミングに少しでも役立てばうれしいです。<br>
            <br>
            それでは、また次の機会に。
            <p class = mainDate>2023.01.24 (Tue)</p>
        </main>

        <footer>
            <p class = copyright>Copyright &copy;2022 toiniot2</p>
        </footer>

        <script src="https://kit.fontawesome.com/2cd68e5bc6.js" crossorigin="anonymous"></script>
    </body>
</html>
